@model IEnumerable<Online_chat.Models.BlockedUser>
@*
    This view displays a list of users that the current user has blocked.
    It provides a button to unblock each user, which triggers an AJAX call.
*@

<div class="settings-card">
    <div class="settings-header">
        Quản lý danh sách chặn
    </div>
    <div class="settings-body">
        <p>Đây là những người bạn đã chặn. Họ không thể gửi tin nhắn cho bạn.</p>
        <hr />
        <div id="blocked-users-list">
            @if (Model.Any())
            {
                foreach (var blockedUser in Model)
                {
                    <div class="settings-item" id="blocked-user-@blockedUser.BlockedUserId">
                        <div class="settings-item-label">
                            <strong>@blockedUser.BlockedUserEntity.FullName</strong>
                            <span>(@blockedUser.BlockedUserEntity.Username)</span>
                        </div>
                        <button class="btn btn-sm btn-outline-danger unblock-user-btn" data-userid="@blockedUser.BlockedUserId">Bỏ chặn</button>
                    </div>
                }
            }
            else
            {
                <p class="text-muted">Bạn chưa chặn người dùng nào.</p>
            }
        </div>
    </div>
</div>


